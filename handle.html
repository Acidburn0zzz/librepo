

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Handle (librepo.Handle) &mdash; librepo 1.0.0-1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="librepo 1.0.0-1 documentation" href="index.html" />
    <link rel="up" title="The Librepo Library" href="lib.html" />
    <link rel="next" title="Result (librepo.Result)" href="result.html" />
    <link rel="prev" title="The Librepo Library" href="lib.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="result.html" title="Result (librepo.Result)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lib.html" title="The Librepo Library"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">librepo 1.0.0-1 documentation</a> &raquo;</li>
          <li><a href="lib.html" accesskey="U">The Librepo Library</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="handle-librepo-handle">
<span id="handle"></span><h1>Handle (librepo.Handle)<a class="headerlink" href="#handle-librepo-handle" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="librepo.Handle">
<em class="property">class </em><tt class="descclassname">librepo.</tt><tt class="descname">Handle</tt><a class="headerlink" href="#librepo.Handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Librepo handle class.
Handle hold information about a repository and configuration for
downloading from the repository.</p>
<p><strong>Attributes:</strong></p>
<dl class="attribute">
<dt>
<tt class="descname">update:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_UPDATE" title="librepo.LRO_UPDATE"><tt class="xref py py-data docutils literal"><span class="pre">LRO_UPDATE</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">urls:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_URLS" title="librepo.LRO_URLS"><tt class="xref py py-data docutils literal"><span class="pre">LRO_URLS</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">mirrorlist:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_MIRRORLIST" title="librepo.LRO_MIRRORLIST"><tt class="xref py py-data docutils literal"><span class="pre">LRO_MIRRORLIST</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">local:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_LOCAL" title="librepo.LRO_LOCAL"><tt class="xref py py-data docutils literal"><span class="pre">LRO_LOCAL</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">httpauth:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_HTTPAUTH" title="librepo.LRO_HTTPAUTH"><tt class="xref py py-data docutils literal"><span class="pre">LRO_HTTPAUTH</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">userpwd:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_USERPWD" title="librepo.LRO_USERPWD"><tt class="xref py py-data docutils literal"><span class="pre">LRO_USERPWD</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">proxy:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_PROXY" title="librepo.LRO_PROXY"><tt class="xref py py-data docutils literal"><span class="pre">LRO_PROXY</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">proxyport:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_PROXYPORT" title="librepo.LRO_PROXYPORT"><tt class="xref py py-data docutils literal"><span class="pre">LRO_PROXYPORT</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">proxytype:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_PROXYTYPE" title="librepo.LRO_PROXYTYPE"><tt class="xref py py-data docutils literal"><span class="pre">LRO_PROXYTYPE</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">proxyauth:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_PROXYAUTH" title="librepo.LRO_PROXYAUTH"><tt class="xref py py-data docutils literal"><span class="pre">LRO_PROXYAUTH</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">proxyuserpwd:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_PROXYUSERPWD" title="librepo.LRO_PROXYUSERPWD"><tt class="xref py py-data docutils literal"><span class="pre">LRO_PROXYUSERPWD</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">progresscb:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_PROGRESSCB" title="librepo.LRO_PROGRESSCB"><tt class="xref py py-data docutils literal"><span class="pre">LRO_PROGRESSCB</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">progressdata:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_PROGRESSDATA" title="librepo.LRO_PROGRESSDATA"><tt class="xref py py-data docutils literal"><span class="pre">LRO_PROGRESSDATA</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">maxspeed:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_MAXSPEED" title="librepo.LRO_MAXSPEED"><tt class="xref py py-data docutils literal"><span class="pre">LRO_MAXSPEED</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">destdir:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_DESTDIR" title="librepo.LRO_DESTDIR"><tt class="xref py py-data docutils literal"><span class="pre">LRO_DESTDIR</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">repotype:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_REPOTYPE" title="librepo.LRO_REPOTYPE"><tt class="xref py py-data docutils literal"><span class="pre">LRO_REPOTYPE</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">connecttimeout:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_CONNECTTIMEOUT" title="librepo.LRO_CONNECTTIMEOUT"><tt class="xref py py-data docutils literal"><span class="pre">LRO_CONNECTTIMEOUT</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">ignoremissing:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_IGNOREMISSING" title="librepo.LRO_IGNOREMISSING"><tt class="xref py py-data docutils literal"><span class="pre">LRO_IGNOREMISSING</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">interruptible:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_INTERRUPTIBLE" title="librepo.LRO_INTERRUPTIBLE"><tt class="xref py py-data docutils literal"><span class="pre">LRO_INTERRUPTIBLE</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">useragent:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_USERAGENT" title="librepo.LRO_USERAGENT"><tt class="xref py py-data docutils literal"><span class="pre">LRO_USERAGENT</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">fetchmirrors:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_FETCHMIRRORS" title="librepo.LRO_FETCHMIRRORS"><tt class="xref py py-data docutils literal"><span class="pre">LRO_FETCHMIRRORS</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">maxmirrortries:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_MAXMIRRORTRIES" title="librepo.LRO_MAXMIRRORTRIES"><tt class="xref py py-data docutils literal"><span class="pre">LRO_MAXMIRRORTRIES</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">maxparalleldownloads:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_MAXPARALLELDOWNLOADS" title="librepo.LRO_MAXPARALLELDOWNLOADS"><tt class="xref py py-data docutils literal"><span class="pre">LRO_MAXPARALLELDOWNLOADS</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">maxdownloadspermirror:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_MAXDOWNLOADSPERMIRROR" title="librepo.LRO_MAXDOWNLOADSPERMIRROR"><tt class="xref py py-data docutils literal"><span class="pre">LRO_MAXDOWNLOADSPERMIRROR</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">varsub:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_VARSUB" title="librepo.LRO_VARSUB"><tt class="xref py py-data docutils literal"><span class="pre">LRO_VARSUB</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">gpgcheck:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_GPGCHECK" title="librepo.LRO_GPGCHECK"><tt class="xref py py-data docutils literal"><span class="pre">LRO_GPGCHECK</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">checksum:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_CHECKSUM" title="librepo.LRO_CHECKSUM"><tt class="xref py py-data docutils literal"><span class="pre">LRO_CHECKSUM</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">yumdlist:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_YUMDLIST" title="librepo.LRO_YUMDLIST"><tt class="xref py py-data docutils literal"><span class="pre">LRO_YUMDLIST</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">yumblist:</tt></dt>
<dd><p>See: <a class="reference internal" href="lib.html#librepo.LRO_YUMBLIST" title="librepo.LRO_YUMBLIST"><tt class="xref py py-data docutils literal"><span class="pre">LRO_YUMBLIST</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="librepo.Handle.download">
<tt class="descname">download</tt><big>(</big><em>url</em>, <em>dest=None</em>, <em>checksum_type=0</em>, <em>checksum=None</em>, <em>expectedsize=0</em>, <em>base_url=None</em>, <em>resume=0</em><big>)</big><a class="headerlink" href="#librepo.Handle.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download package from repository specified by
<tt class="xref py py-meth docutils literal"><span class="pre">url()</span></tt> or <tt class="xref py py-meth docutils literal"><span class="pre">mirrorlist()</span></tt>
method. If <em>base_url</em> is specified, url and mirrorlist in handle
are ignored.</p>
<p>Note: If resume is True and checksum_type and checksum are specified
and downloaded package already exists, then checksum of the
existing package is checked. If checksum matches, then no downloading
is done and exception with LRE_ALREADYDOWNLOADED return code is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; Relative path to the package in the repository.</li>
<li><strong>dest</strong> &#8211; Destination for package. Could be absolute/relative
path to directory or filename.</li>
<li><strong>checksum_type</strong> &#8211; Type of used checksum.</li>
<li><strong>checksum</strong> &#8211; Checksum value.</li>
<li><strong>expectedsize</strong> &#8211; Expected size of the file. If server reports
different size, then no download is preformed.</li>
<li><strong>base_url</strong> &#8211; Instead of repositories specified in <tt class="docutils literal"><span class="pre">Handle</span></tt>
use repository on this url.</li>
<li><strong>resume</strong> &#8211; <tt class="docutils literal"><span class="pre">True</span></tt> enables resume. Resume means that if local
destination file exists, just try to
resume download, if not or resume download failed
than download whole file again.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">h</span> <span class="o">=</span> <span class="n">librepo</span><span class="o">.</span><span class="n">Handle</span><span class="p">()</span>
<span class="n">h</span><span class="o">.</span><span class="n">setopt</span><span class="p">(</span><span class="n">librepo</span><span class="o">.</span><span class="n">LRO_URLS</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;http://ftp.linux.ncsu.edu/pub/fedora/linux/releases/17/Everything/i386/os/&quot;</span><span class="p">])</span>
<span class="n">h</span><span class="o">.</span><span class="n">setopt</span><span class="p">(</span><span class="n">librepo</span><span class="o">.</span><span class="n">LRO_REPOTYPE</span><span class="p">,</span> <span class="n">librepo</span><span class="o">.</span><span class="n">LR_YUMREPO</span><span class="p">)</span>
<span class="n">h</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s">&quot;Packages/s/sl-3.03-12.fc17.i686.rpm&quot;</span><span class="p">,</span>
    <span class="n">checksum</span><span class="o">=</span><span class="s">&quot;0ec8535d0fc00b497d8aef491c3f8b3955f2d84846325ee44851d9de8a36d12c&quot;</span><span class="p">,</span>
    <span class="n">checksum_type</span><span class="o">=</span><span class="n">librepo</span><span class="o">.</span><span class="n">CHECKSUM_SHA256</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If checksum check is disabled in the current <tt class="docutils literal"><span class="pre">Handle</span></tt>, then
checksum is NOT checked even if <em>checksum</em> and <em>checksum_type</em>
params are specified!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="librepo.Handle.download_packages">
<tt class="descname">download_packages</tt><big>(</big><em>list</em>, <em>failfast=False</em><big>)</big><a class="headerlink" href="#librepo.Handle.download_packages" title="Permalink to this definition">¶</a></dt>
<dd><p>Download list of packages. <em>list</em> is a list of PackageTarget objects.
If the <em>failfast</em> is True, then whole downloading is stoped
immediately when any of download fails (and exception is raised).
If the failfast is False, then this function returns after all
downloads finish (no matter if successfully or unsuccessfully)
and exception is raised only if a nonrecoverable
error related to the function itself is meet
(Errors related to individual downloads are
reported via corresponding PackageTarget objects)</p>
</dd></dl>

<dl class="method">
<dt id="librepo.Handle.getinfo">
<tt class="descname">getinfo</tt><big>(</big><em>option</em><big>)</big><a class="headerlink" href="#librepo.Handle.getinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information from <a class="reference internal" href="#librepo.Handle" title="librepo.Handle"><tt class="xref py py-class docutils literal"><span class="pre">Handle</span></tt></a>.</p>
<p><em>option</em> could be one of <a class="reference internal" href="lib.html#handle-info-options-label"><em>Handle info options</em></a></p>
</dd></dl>

<dl class="method">
<dt id="librepo.Handle.setopt">
<tt class="descname">setopt</tt><big>(</big><em>option</em>, <em>val</em><big>)</big><a class="headerlink" href="#librepo.Handle.setopt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set option to <a class="reference internal" href="#librepo.Handle" title="librepo.Handle"><tt class="xref py py-class docutils literal"><span class="pre">Handle</span></tt></a> directly.</p>
<p><em>option</em> could be one of: <a class="reference internal" href="lib.html#handle-options-label"><em>Handle options</em></a></p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># The command:</span>
<span class="n">h</span><span class="o">.</span><span class="n">setopt</span><span class="p">(</span><span class="n">librepo</span><span class="o">.</span><span class="n">LRO_URLS</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;http://ftp.linux.ncsu.edu/pub/fedora/linux/releases/17/Everything/i386/os/&quot;</span><span class="p">])</span>
<span class="c"># is equivalent to:</span>
<span class="n">h</span><span class="o">.</span><span class="n">urls</span><span class="p">([</span><span class="s">&quot;http://ftp.linux.ncsu.edu/pub/fedora/linux/releases/17/Everything/i386/os/&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="lib.html"
                        title="previous chapter">The Librepo Library</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="result.html"
                        title="next chapter">Result (librepo.Result)</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/handle.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="result.html" title="Result (librepo.Result)"
             >next</a> |</li>
        <li class="right" >
          <a href="lib.html" title="The Librepo Library"
             >previous</a> |</li>
        <li><a href="index.html">librepo 1.0.0-1 documentation</a> &raquo;</li>
          <li><a href="lib.html" >The Librepo Library</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Red Hat.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>